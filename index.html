<!-- Добавьте это в конец body перед script -->
<div id="calendarPopup" class="hidden">
    <div class="calendar-container">
        <div class="calendar-header">
            <button onclick="changeMonth(-1)">←</button>
            <h4 id="currentMonth"></h4>
            <button onclick="changeMonth(1)">→</button>
        </div>
        <div class="calendar-grid" id="calendarDays"></div>
    </div>
</div>

<style>
/* Добавьте эти стили в style.css */
#calendarPopup {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.calendar-container {
    background: white;
    padding: 20px;
    border-radius: 10px;
    width: 300px;
}

.calendar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.calendar-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 5px;
}

.calendar-day {
    padding: 8px;
    text-align: center;
    border-radius: 5px;
    cursor: pointer;
}

.calendar-day:hover {
    background: #f0f0f0;
}

.selected-date {
    background: #007bff;
    color: white;
}

.hidden {
    display: none !important;
}
</style>

<script>
// Добавьте этот код в script.js
let currentDate = new Date();
let selectedDateField = null;

function showCalendar(fieldId) {
    selectedDateField = fieldId;
    renderCalendar(currentDate);
    document.getElementById('calendarPopup').classList.remove('hidden');
}

function hideCalendar() {
    document.getElementById('calendarPopup').classList.add('hidden');
}

function renderCalendar(date) {
    const monthNames = ["Январь", "Февраль", "Март", "Апрель", "Май", "Июнь",
        "Июль", "Август", "Сентябрь", "Октябрь", "Ноябрь", "Декабрь"
    ];

    document.getElementById('currentMonth').textContent = 
        `${monthNames[date.getMonth()]} ${date.getFullYear()}`;

    const calendarDays = document.getElementById('calendarDays');
    calendarDays.innerHTML = '';

    const firstDay = new Date(date.getFullYear(), date.getMonth(), 1);
    const lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0);
    
    // Пустые ячейки для дней предыдущего месяца
    for (let i = 0; i < firstDay.getDay(); i++) {
        const div = document.createElement('div');
        div.classList.add('calendar-day');
        calendarDays.appendChild(div);
    }

    // Дни текущего месяца
    for (let day = 1; day <= lastDay.getDate(); day++) {
        const div = document.createElement('div');
        div.classList.add('calendar-day');
        div.textContent = day;
        div.onclick = () => selectDate(day);
        calendarDays.appendChild(div);
    }
}

function selectDate(day) {
    const selectedDate = new Date(
        currentDate.getFullYear(),
        currentDate.getMonth(),
        day
    );
    
    const formattedDate = selectedDate.toISOString().split('T')[0];
    document.getElementById(selectedDateField).value = formattedDate;
    hideCalendar();
}

function changeMonth(offset) {
    currentDate.setMonth(currentDate.getMonth() + offset);
    renderCalendar(currentDate);
}

// Модифицируйте поля ввода дат в форме бронирования:
<div class="form-group">
    <label>Дата заезда:</label>
    <input type="text" id="checkIn" readonly onclick="showCalendar('checkIn')">
</div>
<div class="form-group">
    <label>Дата выезда:</label>
    <input type="text" id="checkOut" readonly onclick="showCalendar('checkOut')">
</div>
</script>
